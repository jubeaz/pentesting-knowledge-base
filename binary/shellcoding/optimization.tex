
\section{Optimization}

\subsection{zeroing}
\begin{verbatim}
    mov rax,0     ; 7 bytes '48 c7 c0 00 00 00 00'
    ; VERSUS
    xor rax,rax   ; 3 bytes '48 31 c0'
    sub rax,rax   ; 3 bytes '48 29 c0'
    and rax,0     , 4 bytes '48 83 e0 00' NOT FOR SHELLCODE
\end{verbatim}

\subsection{use small registers}

\begin{verbatim}
    mov rax,25  ; 7 bytes '48 c7 c0 19 00 00 00'
    ; VERSUS
    xor rax,rax ; 3 bytes '48 31 c0'
    mov al, 24  ; 2 bytes 'b0 19'
\end{verbatim}

\subsection{moving data}

insted of \verb+mov rdi,rsp+ use:
\begin{verbatim}
    mov rdi, rsp ; 3 bytes '48 89 e7'
    ; VERSUS
	push rsp	; 1 byte '54'
    pop	rdi		; 1 byte '5f'
\end{verbatim}