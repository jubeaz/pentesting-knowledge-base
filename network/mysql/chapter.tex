\chapter{MySQL}

\section{Introduction}
Usually, the MySQL server runs on TCP port 3306.

The most important databases for the MySQL server are: 
\begin{itemize}
        \item
            \href{https://dev.mysql.com/doc/refman/8.0/en/system-schema.html#:~:text=The%20mysql%20schema%20is%20the,used%20for%20other%20operational%20purposes}{the
            System Schema (sys)} which contains tables, information, and
            metadata necessary for management.
        \item information schema (information\_schema): which contains metadata
            mainly retreived from the system schema. 
\end{itemize}
The reason for the existence of these two is the ANSI/ISO standard that has
been established. System schema is a Microsoft system catalog for SQL servers
and contains much more information than the information schema.

There is a widely covered
\href{https://dev.mysql.com/doc/refman/8.0/en/general-security-issues.html}{security
issues} section in the reference manual that covers best practices for securing
MySQL servers.


\section{Dangerous Settings}
The settings {\bf user}, {\bf password}, and {\bf admin\_address} are
security-relevant because the entries are made in plain text. Often, the rights
for the configuration file of the MySQL server are not assigned correctly. If
we get another way to read files or even a shell, we can see the file and the
username and password for the MySQL server. Suppose there are no other security
measures to prevent unauthorized access. In that case, the entire database and
all the existing customers' information, email addresses, passwords, and
personal data can be viewed and even edited.


The {\bf debug} and {\bf sql\_warnings} settings provide verbose information
output in case of errors, which are essential for the administrator but should
not be seen by others. This information often contains sensitive content, which
could be detected by trial and error to identify further attack possibilities.
These error messages are often displayed directly on web applications.
Accordingly, the SQL injections could be manipulated even to have the MySQL
server execute system commands.

\section{Footprint / enumeration}

\subsection{nmap}

\begin{verbatim}
sudo nmap -sV -sC -p3306 --script mysql*
\end{verbatim}

\section{Interaction}
\begin{verbatim}
mysql -u USERNAME -pPASSWORD -h  IP

show databases;
select version();
use DATABASE_NAME;
show tables;
show columns from TABLE_NAME;

use sys ; -- system schema
user information_schema ; 
\end{verbatim}

\section{links}
\begin{itemize}
    \item 
\href{https://dev.mysql.com/doc/refman/8.0/en/system-schema.html#:~:text=The%20mysql%20schema%20is%20the,used%20for%20other%20operational%20purposes}{mysql
System Schema}
\end{itemize}

