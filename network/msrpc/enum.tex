
\section{Enumeration}
\subsection{Identifying Exposed RPC Services}
You can query the RPC locator service and individual RPC endpoints to catalog
interesting services running over TCP, UDP, HTTP, and SMB (via named pipes).
Each IFID value gathered through this process denotes an RPC service (e.g.,
5a7b91f8-ff00-11d0-a9b2-00c04fb6e6fc is the Messenger interface).

Todd Sabinâ€™s rpcdump and ifids Windows utilities query both the RPC locator and
specific RPC endpoints to list IFID values. The rpcdump syntax is as follows:
\begin{verbatim}
rpcdump [-p port] 192.168.189.1
\end{verbatim}

\begin{verbatim}
use auxiliary/scanner/dcerpc/endpoint_mapper
use auxiliary/scanner/dcerpc/hidden
use auxiliary/scanner/dcerpc/management
use auxiliary/scanner/dcerpc/tcp_dcerpc_auditor
rpcdump.py <IP> -p 135
\end{verbatim}

\subsection{RID Cycling}

RID Cycling is a method that allows attackers to enumerate domain objects by
bruteforcing or guessing RIDs and SIDs, based on the fact that RIDs are
sequential.

\href{https://github.com/trustedsec/ridenum}{ridenum} an be used to operate
that recon technique, with a Null session or with an authenticated one.

\verb+crackmapexec+~\ref{tool:crackmapexec} can also be used with
\verb+--rid-brute+

\subsection{rpcclient}
\verb+rpcclient+~\ref{tool:rpcclient} an be used to operate recon through MS-RPC
services behind SMB named pipes. It offers multiple useful commands.

