\section{Device join}

\subsection{What is a device}

A device (aka \href{https://docs.microsoft.com/en-us/azure/active-directory/devices/overview}{device identity} is one of the object types in Azure AD.

{\bf Devices are identified by certificates} created during the registration process.



\subsection{Join Types}

\begin{itemize}
    \item \href{https://docs.microsoft.com/en-us/azure/active-directory/devices/concept-azure-ad-register}{Registered}: are typically personally owned or mobile devices and are signed in with a personal Microsoft account or another local account.
    \item \href{https://docs.microsoft.com/en-us/azure/active-directory/devices/concept-azure-ad-join}{Joined}: devices owned by an organization and are signed in with an Azure AD account belonging to that organization. They exist only in the cloud.
    \item \href{https://docs.microsoft.com/en-us/azure/active-directory/devices/concept-azure-ad-join-hybrid}{Hybrid Joined}: devices owned by an organization and are signed in with an Active Directory Domain Services account belonging to that organization. They exist in the cloud and on-premises.
\end{itemize}

\subsection{Device Object}
\href{https://learn.microsoft.com/en-us/graph/api/resources/device?view=graph-rest-1.0}{Microsoft Graph REST API}
\begin{itemize}
    \item \verb+objectId+
    \item \verb+deviceId+
    \item \verb+deviceTrustType+
    \item \verb+dirSyncEnabled+
    \item \verb+isManaged+
    \item \verb+idCompliant+
    \item \verb+reserved1+
    \item \verb+onPremisesSecurityIdentifier+
    \item \verb+profileType+
    \item \verb+deviceSystemMetadata+
\end{itemize}
\subsection{Join process}
\href{https://learn.microsoft.com/en-us/entra/identity/devices/device-registration-how-it-works}{How it works: Device registration}

Azure DRS (Device Registration Service)
\subsubsection{Register}
\subsubsection{Join}
\subsubsection{Hybrid join}

\begin{verbatim}
dsregcmd /status
\end{verbatim}

\begin{verbatim}
$scp = New-Object System.DirectoryServices.DirectoryEntry;
$scp.Path = "LDAP://CN=62a0ff2e-97b9-4513-943f-0d221bd30080,CN=Device Registration Configuration,CN=Services,CN=Configuration,DC=fabrikam,DC=com";
$scp.Keywords;
\end{verbatim}


\subsection{links}
\begin{itemize}
    \item
        \href{https://learn.microsoft.com/en-us/azure/active-directory/devices/device-registration-how-it-works}{How it works: Device registration}
    \item 
        \href{https://aadinternals.com/post/devices/}{AADInternals - Deep-dive to Azure AD device join}
\end{itemize}
