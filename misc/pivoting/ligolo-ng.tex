\section{Ligolo-ng}

\subsection{Start server}
\begin{verbatim}
proxy  -selfcert -laddr <ip|0.0.0.0>:<port|11601>
\end{verbatim}

add an interface
\begin{verbatim}
ifcreate --name <name | ligolo>
\end{verbatim}


\subsection{Reverse agent}

\subsubsection{Connection and dynamic port forward}

\begin{verbatim}
agent.exe -ignore-cert -connect <server_ip>:<port|11601>
agent.exe -accept-fingerprint <fp> -connect <server_ip>:<port|11601>
\end{verbatim}

then select the agent on server \verb+session+

then start the tunnel to associate the tuner with the agent
\begin{verbatim}
tunnel_start --tun <name | ligolo>
\end{verbatim}

then add routing
\begin{verbatim}
route_add --name <name | ligolo> --route <cidr>
\end{verbatim}

\subsubsection{reverse forward}

\begin{verbatim}
listener_add --addr <bind_ip|0.0.0.0>:<bind_port> --to <target_ip|127.0.0.1>:<target_port> --tcp
\end{verbatim}


\subsubsection{local port forward}

simply add a route to the \verb+ip/32+ of the agent


\subsection{forward agent}

\subsection{Double pivot}

\begin{itemize}
    \item create a new interface
    \item set a listener on the pivot agent
    \item connect the new agent to the pivot
    \item associate the interface to the new agent en set routing
\end{itemize}