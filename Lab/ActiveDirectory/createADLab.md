# createADLab
[createADLab](https://github.com/amitn322/createADLab)

[configureADLab.ps1](https://raw.githubusercontent.com/jubeaz/pentesting-knowledge-base/master/Lab/ActiveDirectory/configureADLab.ps1)

[adConfig.json](https://raw.githubusercontent.com/jubeaz/pentesting-knowledge-base/master/Lab/ActiveDirectory/adConfig.json)
## Sample Config File `adConfig.json`
```json
{
    "totalServers":  "3",
    "domainName":  "example.lab",
    "domainNetBiosName":  "examplelab",
    "childDomainName": "child",
    "dnsServer":  "192.168.171.254",
    "defaultGateway": "192.168.171.2",
    "maskBits":  "24",
    "eaUserName":  "eauser",
    "eaPassword":  "MyL@bDCP@ssw0rd",
    "AdminPassword":  "MyL@bDCP@ssw0rd",
    "safeModeAdminPassword":  "MyL@bDCP@ssw0rd",
    "dc1IPAddress":  "192.168.171.254",
    "dc1HostName":  "dc01",
    "dc2IPAddress":  "192.168.171.253",
    "dc2HostName":  "dc02",
    "dc3IPAddress": "192.168.171.252",
    "dc3HostName":  "dc03"
}
```

## How To Run:
Pass the `serverNumber` variable based on which server you are running this script on. 1 for first server, 2 for second server and 3 for third server.

Examples:

```powershell
# On server i
.\configureADLab -serverNumber i
```
