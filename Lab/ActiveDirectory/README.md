# createADLab
[createADLab](https://github.com/amitn322/createADLab)

## Sample Config File `adConfig.json`
```json
{
    "totalServers":  "3",
    "domainName":  "example.lab",
    "domainNetBiosName":  "examplelab",
    "childDomainName": "child",
    "dnsServer":  "192.168.171.254",
    "defaultGateway": "192.168.171.2",
    "maskBits":  "24",
    "eaUserName":  "eauser",
    "eaPassword":  "MyL@bDCP@ssw0rd",
    "AdminPassword":  "MyL@bDCP@ssw0rd",
    "safeModeAdminPassword":  "MyL@bDCP@ssw0rd",
    "dc1IPAddress":  "192.168.171.254",
    "dc1HostName":  "dc01",
    "dc2IPAddress":  "192.168.171.253",
    "dc2HostName":  "dc02",
    "dc3IPAddress": "192.168.171.252",
    "dc3HostName":  "dc03"
}
```

## How To Run:
Pass the `serverNumber` variable based on which server you are running this script on. 1 for first server, 2 for second server and 3 for third server.

Examples:

```powershell
# On server i
.\configureADLab -serverNumber i
```

# Vulnerable-AD

[Vulnerable-AD](https://github.com/WazeHell/vulnerable-AD)
Create a vulnerable active directory that's allowing you to test most of active directory attacks in local lab

### Main Features
- Randomize Attacks
- Full Coverage of the mentioned attacks
- you need run the script in DC with Active Directory installed 
- Some of attacks require client workstation
  
### Supported Attacks
- Abusing ACLs/ACEs
- Kerberoasting
- AS-REP Roasting
- Abuse DnsAdmins
- Password in Object Description
- User Objects With Default password (Changeme123!)
- Password Spraying
- DCSync
- Silver Ticket
- Golden Ticket 
- Pass-the-Hash
- Pass-the-Ticket
- SMB Signing Disabled

### Example
```powershell
# if you didn't install Active Directory yet , you can try 
Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath "C:\\Windows\\NTDS" -DomainMode "7" -DomainName "cs.org" -DomainNetbiosName "cs" -ForestMode "7" -InstallDns:$true -LogPath "C:\\Windows\\NTDS" -NoRebootOnCompletion:$false -SysvolPath "C:\\Windows\\SYSVOL" -Force:$true
# if you already installed Active Directory, just run the script !
IEX((new-object net.webclient).downloadstring("https://raw.githubusercontent.com/wazehell/vulnerable-AD/master/vulnad.ps1"));
Invoke-VulnAD -UsersLimit 100 -DomainName "cs.org"
```

### TODO
- Play with workstations !
- Click close issue button on github
