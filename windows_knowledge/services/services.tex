
\section{Services}
Windows services are managed via the \emph{Service Control Manager (SCM)} system,
accessible via the \emph{services.msc MMC} add-in.

It is also possible to query and manage services via the command line using
sc.exe using PowerShell cmdlets such as \verb+Get-Service+.

\begin{verbatim}
Get-Service | ? {$_.Status -eq "Running"} | select -First 2 |fl
\end{verbatim}

 Windows has three categories of services: 
 \begin{itemize}
         \item Local Services
         \item Network Services
         \item System Services. 
\end{itemize}

Misconfigurations around service permissions are a common privilege escalation vector on Windows systems.

href{https://docs.microsoft.com/en-us/windows/win32/rstmgr/critical-system-services}{Critical
system services} that cannot be stopped and restarted without a system restart.
If we update any file or resource in use by one of these services, we must
restart the system.

\begin{tabularx}{\linewidth}{|l|X|}
    \hline
Service &	Description \\
    \hline
    \href{https://en.wikipedia.org/wiki/Session_Manager_Subsystem}{smss.exe} &	Session Manager SubSystem. Responsible for handling sessions on the
system.\\
    \hline
    \href{https://en.wikipedia.org/wiki/Client/Server_Runtime_Subsystem}{csrss.exe} &	Client Server Runtime Process. The user-mode portion of the Windows
subsystem.\\
    \hline
wininit.exe &	Starts the Wininit file .ini file that lists all of the changes
to be made to Windows when the computer is restarted after installing a
program.\\
    \hline
logonui.exe &	Used for facilitating user login into a PC\\
    \hline
    \href{https://en.wikipedia.org/wiki/Local_Security_Authority_Subsystem_Service}{lsass.exe} &	The Local Security Authentication Server verifies the validity of
user logons to a PC or server. It generates the process responsible for
authenticating users for the Winlogon service.\\
    \hline
services.exe &	Manages the operation of starting and stopping services.\\
    \hline
    \href{https://en.wikipedia.org/wiki/Winlogon}{winlogon.exe} &	Responsible for handling the secure attention sequence, loading
a user profile on logon, and locking the computer when a screensaver is
running.\\
    \hline
System &	A background system process that runs the Windows kernel.\\
    \hline
    \href{https://en.wikipedia.org/wiki/Svchost.exe}{svchost.exe} with RPCSS &	Manages system services that run from dynamic-link
libraries (files with the extension .dll) such as "Automatic Updates," "Windows
Firewall," and "Plug and Play." Uses the Remote Procedure Call (RPC) Service
(RPCSS).\\
    \hline
svchost.exe  with Dcom/PnP &	Manages system services that run from
dynamic-link libraries (files with the extension .dll) such as "Automatic
Updates," "Windows Firewall," and "Plug and Play." Uses the Distributed
Component Object Model (DCOM) and Plug and Play (PnP) services.\\
    \hline
\end{tabularx}